<!--
 * @Author: zhangl
 * @Date: 2019-12-22 23:45:48
 * @GitHub: https://github.com/SmithJson
 * @LastEditors  : zhangl
 * @LastEditTime : 2019-12-29 01:15:36
 * @Description: promise
 * @FilePath: /FE-Subjects/ES6/8.promise/code/index.html
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    var 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        const promise1 = new Promise((resolve, reject) => {
            resolve('promise1');
        });
        const promise2 = new Promise((resolve, reject) => {
            resolve('promise2');
        });
        Promise
            .all([promise1, promise2])
            .then((res) => {
                console.log(res);
            })
            .catch(err => console.log(err));

        // const fn = function () {
        //     return new Promise((resolve, reject) => {
        //         resolve(v + 2);
        //     });
        // };

        // fn()
        //     .then(res => console.log(res))
        //     .catch(error => console.log(error));

        // setTimeout(() => {
        //     console.log(123);
        // }, 1000);
        // const promise = new Promise((resolve, reject) => {
        //     throw new Error('失败');
        // });

        // promise
        //     .then(res => console.log(res))
        //     .catch(err => console.log(err));


        // const promise = new Promise((resolve, reject) => {
        //     resolve('成功');

        //     throw new Error('失败');
        // });

        // promise.then(
        //     res => console.log(res),
        //     error => console.log(error),
        // );

        // ES6 promise 处理回调
        // const promise1 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         const flag = false;

        //         flag ? resolve('成功') : reject('失败');
        //     }, 1000);
        // });

        // promise1.then(
        //     res => console.log(res),
        //     err => console.log(err)
        // );

        // ES5处理回调
        // function f1(callback) {
        //     var res = "f1";

        //     console.log('我是回调的 f1');
        //     setTimeout(() => {
        //         callback(res);
        //     }, 1000);
        // }

        // function f2(res) {
        //     console.log(res);
        // }

        // f1(f2);
    </script>
</body>
</html>